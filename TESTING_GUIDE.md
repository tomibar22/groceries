# 🧪 מדריך בדיקות

מדריך מקיף לבדיקת האפליקציה על מובייל ולוודא שהכל עובד מעולה.

## 📋 Checklist - תכונות לבדיקה

### ✅ תכונות בסיסיות

- [ ] **הוספת מוצר חדש**
  - כתוב שם מוצר → Enter → מופיע ברשימה
  - המוצר נוסף גם למאגר (הקלד שוב - תקבל autocomplete)

- [ ] **הוספת מוצר קיים**
  - הקלד שם מוצר שכבר קיים במאגר
  - אמור לקבל הצעה ב-autocomplete
  - לחץ על ההצעה או Enter → מתווסף לרשימה

- [ ] **סימון כנקנה**
  - לחץ על checkbox → המוצר מקבל strikethrough
  - לחץ שוב → חוזר למצב רגיל

- [ ] **עריכת כמות**
  - לחץ + → הכמות עולה
  - לחץ - → הכמות יורדת
  - כשהכמות מגיעה ל-0 → המוצר נמחק

- [ ] **מחיקת מוצר**
  - לחץ על X האדום → המוצר נעלם מהרשימה
  - המוצר נשאר במאגר (נסה להקליד שוב - תקבל autocomplete)

- [ ] **ניקוי מוצרים שנקנו**
  - סמן כמה מוצרים כנקנו
  - כפתור "נקה מוצרים שנקנו" מופיע למטה
  - לחץ → כל המוצרים המסומנים נמחקים

### ✅ Autocomplete & Search

- [ ] **חיפוש מדויק**
  - כתוב "חלב" → אמור להציע "חלב" (אם קיים)

- [ ] **Fuzzy search (חיפוש עם טעויות)**
  - כתוב "הלב" במקום "חלב" → עדיין אמור להציע "חלב"
  - כתוב "לכם" במקום "לחם" → עדיין אמור להציע "לחם"

- [ ] **Case insensitive**
  - כתוב "חלב" או "חלב" → אותה תוצאה

- [ ] **רשימת הצעות**
  - כתוב אות אחת → מקסימום 5 הצעות
  - לחץ על הצעה → מתווספת לרשימה
  - לחץ Enter ללא בחירה → נוצר מוצר חדש

### ✅ Real-time Sync

- [ ] **סנכרון בין מכשירים**
  - פתח את האפליקציה בשני טאבים/מכשירים
  - הוסף מוצר בטאב 1 → מופיע מיידית בטאב 2
  - סמן כנקנה בטאב 2 → מתעדכן בטאב 1
  - מחק בטאב 1 → נעלם בטאב 2

- [ ] **עדכונים מיידיים**
  - שינויים אמורים להופיע ב**פחות משנייה**
  - אין צורך לרענן את הדף

### ✅ Mobile Gestures

- [ ] **Pull to Refresh**
  - משוך את הרשימה כלפי מטה
  - הודעה "מרענן..." מופיעה
  - הרשימה מתעדכנת

- [ ] **Swipe to Delete**
  - החלק מוצר שמאלה
  - רקע אדום מופיע
  - כשמשחררים → המוצר נמחק

- [ ] **Haptic Feedback** (אם נתמך)
  - כשלוחצים על checkbox → רטט קל (במכשירים שתומכים)

## 📱 בדיקות Mobile

### Chrome DevTools Emulation

1. **פתח DevTools**: F12
2. **Toggle Device Toolbar**: Ctrl+Shift+M (או אייקון הטלפון)
3. **בחר מכשיר**:
   - iPhone 12/13/14 Pro
   - Samsung Galaxy S20
   - iPad Mini
4. **בדוק**:
   - [ ] כפתורים גדולים מספיק (קל ללחוץ)
   - [ ] טקסט קריא
   - [ ] אין overflow אופקי
   - [ ] Sticky header עובד (גלול למטה - החיפוש נשאר למעלה)

### בדיקה על מכשיר אמיתי

#### הכנה:
```bash
npm run dev -- --host
```

#### בדיקות:

**iPhone (Safari)**
- [ ] האפליקציה נטענת
- [ ] Touch interactions עובדים
- [ ] Keyboard לא מכסה את האפליקציה
- [ ] "Add to Home Screen" עובד
- [ ] Safe area (notch) לא חותך תוכן

**Android (Chrome)**
- [ ] האפליקציה נטענת
- [ ] Touch interactions עובדים
- [ ] Install prompt מופיע
- [ ] האפליקציה פועלת standalone

### Responsive Design

**Mobile Portrait (320px-480px)**
- [ ] שדה חיפוש full-width
- [ ] כפתורים גדולים ונוחים
- [ ] רווחים מספיקים
- [ ] טקסט קריא

**Mobile Landscape**
- [ ] האפליקציה נראית טוב
- [ ] Header לא גדול מדי
- [ ] אפשר לגלול

**Tablet (481px-768px)**
- [ ] מרכז את התוכן
- [ ] לא רחב מדי

**Desktop (769px+)**
- [ ] רוחב מקסימלי 500px
- [ ] ממורכז
- [ ] צללים משני הצדדים

## ⚡ Performance Tests

### Lighthouse Score

1. **פתח בדפדפן**: http://localhost:5173
2. **DevTools** → **Lighthouse**
3. **הגדרות**:
   - Device: Mobile
   - Categories: כולם
4. **לחץ "Analyze page load"**

**ציונים מצופים**:
- ✅ Performance: **90+**
- ✅ Accessibility: **90+**
- ✅ Best Practices: **90+**
- ✅ SEO: **80+**
- ✅ PWA: **אם יש אייקונים: 100**

### Network Conditions

בדוק על חיבור איטי:

1. **DevTools** → **Network**
2. **Throttling**: "Slow 3G"
3. **רענן את הדף**
4. **בדוק**:
   - [ ] האפליקציה נטענת (אפילו לאט)
   - [ ] יש loading state
   - [ ] לא קורס

## 🔧 PWA Tests

### Install Test

**Desktop (Chrome)**
1. פתח את האפליקציה
2. חפש אייקון ➕ בשורת הכתובת
3. "Install Grocery List"
4. אשר
5. **בדוק**: האפליקציה נפתחת בחלון נפרד

**Mobile (Chrome/Safari)**
1. פתח את האפליקציה
2. Chrome: תפריט → "Add to Home screen"
3. Safari: Share → "Add to Home Screen"
4. **בדוק**: אייקון מופיע במסך הבית
5. **פתח מהאייקון** → צריך להיראות כמו אפליקציה מקורית

### Offline Test

1. **התקן את האפליקציה** (ראה למעלה)
2. **פתח את האפליקציה**
3. **DevTools** → **Application** → **Service Workers**
   - ודא שיש service worker פעיל
4. **סמן "Offline"**
5. **רענן את הדף**
6. **בדוק**:
   - [ ] האפליקציה עדיין טוענת
   - [ ] תוכן קיים נשאר
   - [ ] הודעת "offline" (אם הוספת)

### Manifest Test

1. **DevTools** → **Application** → **Manifest**
2. **בדוק**:
   - [ ] Name: "רשימת קניות"
   - [ ] Short name: "קניות"
   - [ ] Start URL: "/"
   - [ ] Display: "standalone"
   - [ ] Icons: לפחות 192x192 ו-512x512
   - [ ] Theme color: #667eea
   - [ ] Background color: #667eea

## 🐛 בדיקות Edge Cases

- [ ] **רשימה ריקה**: מציג "הרשימה ריקה"
- [ ] **שם ארוך מאוד**: מוצר עם 100 תווים → לא שובר את העיצוב
- [ ] **תווים מיוחדים**: מוצר עם emoji (🍎) → עובד
- [ ] **מחיקה מהירה**: מוסיף 10 מוצרים ומוחק את כולם → לא קורס
- [ ] **חיבור איטי**: Throttle ל-Slow 3G → עדיין עובד
- [ ] **ללא חיבור**: Offline mode → הודעת שגיאה ברורה

## 🔐 Security Tests

- [ ] **SQL Injection**: נסה להוסיף מוצר: `'; DROP TABLE items; --`
  - ✅ לא אמור למחוק כלום (Supabase מגן)
- [ ] **XSS**: נסה להוסיף מוצר: `<script>alert('xss')</script>`
  - ✅ לא אמור להריץ סקריפט
- [ ] **HTTPS**: ב-production - ודא שיש 🔒 ליד ה-URL

## 📊 Database Tests

פתח Supabase Dashboard → **Table Editor**:

- [ ] **טבלת items**: מוצרים חדשים מופיעים
- [ ] **טבלת active_list**: מוצרים שהוספת מופיעים
- [ ] **Updated_at**: משתנה כשמעדכנים מוצר
- [ ] **מחיקה מ-active_list**: המוצר נמחק מהטבלה, אבל נשאר ב-items

## ✅ Final Checklist

לפני Production:

- [ ] כל הבדיקות למעלה עברו
- [ ] Lighthouse score > 90 בכל הקטגוריות
- [ ] עובד על iPhone אמיתי
- [ ] עובד על Android אמיתי
- [ ] Real-time sync עובד בין 2 מכשירים
- [ ] PWA מתקין בהצלחה
- [ ] Offline mode עובד
- [ ] אין errors ב-console
- [ ] אין warnings ב-console
- [ ] Database schema רץ נכון
- [ ] משתני סביבה מוגדרים

---

**אם הכל ירוק → מוכן ל-Production! 🎉🚀**
